(function(a){a={options:{errorClass:"tm_alert-danger",successClass:"tm_alert-success",infoClass:"tm_alert-info",warnClass:"tm_alert-warn",errorSymbol:"tm_tm-error",successSymbol:"tm_tm-success",infoSymbol:"tm_tm-info",warnSymbol:"tm_tm-warn",errorDisplayTimeout:5,successDisplayTimeout:5,infoDisplayTimeout:5,warnDisplayTimeout:5,alertClass:"tm_alertMsg",subAlertClass:"tm_alert",progressClass:"tm_alert_progress",position:"top-right",open:null,close:null},curConfig:[],curConfigIndex:0,__proto__:{alertDiv:null,
    progress:100,fadeTimer:null,config:function(b){for(var c in b)a.options[c]=b[c]},makeCurConfig:function(b,c){a.curConfig[a.curConfigIndex]=a.cloneObj(a.options);a.curConfigIndex=a.curConfig.length-1;if("object"==typeof b)for(var d in b)a.curConfig[a.curConfigIndex][d]=b[d];"number"==typeof b&&(a.curConfig[a.curConfigIndex][c]=b)},error:function(b,c){b||(b="Error");a.makeCurConfig(c,"errorDisplayTimeout");a.makeAlert(a.curConfig[a.curConfigIndex].errorClass,a.curConfig[a.curConfigIndex].errorSymbol,
        b);a.displayAlert(a.curConfig[a.curConfigIndex].errorDisplayTimeout)},success:function(b,c){b||(b="Success");a.makeCurConfig(c,"successDisplayTimeout");a.makeAlert(a.curConfig[a.curConfigIndex].successClass,a.curConfig[a.curConfigIndex].successSymbol,b);a.displayAlert(a.curConfig[a.curConfigIndex].successDisplayTimeout)},info:function(b,c){b||(b="Info");a.makeCurConfig(c,"infoDisplayTimeout");a.makeAlert(a.curConfig[a.curConfigIndex].infoClass,a.curConfig[a.curConfigIndex].infoSymbol,b);a.displayAlert(a.curConfig[a.curConfigIndex].infoDisplayTimeout)},
    warn:function(b,c){b||(b="Warning");a.makeCurConfig(c,"warnDisplayTimeout");a.makeAlert(a.curConfig[a.curConfigIndex].warnClass,a.curConfig[a.curConfigIndex].warnSymbol,b);a.displayAlert(a.curConfig[a.curConfigIndex].warnDisplayTimeout)},makeAlert:function(b,c,d){a.alertDiv='<div class=" '+a.curConfig[a.curConfigIndex].subAlertClass+" "+b+'"> <i class="'+c+'">&nbsp;</i>'+d+'<span class="'+a.curConfig[a.curConfigIndex].progressClass+'"></span></div>'},displayAlert:function(b){a.removePrevious();a.clearFadeTimeout();
        var c=document.createElement("div");c.innerHTML=a.alertDiv;c.className=a.curConfig[a.curConfigIndex].alertClass;a.setPosition(c);document.body.appendChild(c);c.style.width=a.computeMinWidth();a.fireOpenEvent();"function"==typeof a.curConfig[a.curConfigIndex].open&&eval(a.curConfig[a.curConfigIndex].open());c.addEventListener("click",function(){a.fadeOut(this)});0!=b&&a.runOut(b)},setPosition:function(b){switch(a.curConfig[a.curConfigIndex].position){case "top-center":b.style.top="10px";b.style.right=
        "0";b.style.left="0";break;case "top-right":b.style.top="10px";b.style.right="5px";break;case "top-left":b.style.top="10px";b.style.left="5px";break;case "bottom-center":b.style.bottom="10px";b.style.right="0";b.style.left="0";break;case "bottom-left":b.style.bottom="10px";b.style.left="5px";break;case "bottom-right":b.style.bottom="10px";b.style.right="5px";break;default:b.style.top="10px",b.style.right="0",b.style.left="0"}},computeMinWidth:function(){var b=document.getElementsByClassName(a.curConfig[a.curConfigIndex].subAlertClass)[0].clientWidth;
        b>window.innerWidth?b="100%":(200>b&&(b=200),b+="px");return b},removePrevious:function(){for(var b=0;b<document.getElementsByClassName(a.curConfig[a.curConfigIndex].alertClass).length;b++)document.getElementsByClassName(a.curConfig[a.curConfigIndex].alertClass)[b].parentNode.removeChild(document.getElementsByClassName(a.curConfig[a.curConfigIndex].alertClass)[b])},runOut:function(b){a.fadeTimer=setTimeout(function(){a.progress-=1E4/(1E3*b);try{0<document.getElementsByClassName(a.curConfig[a.curConfigIndex].progressClass).length?
        document.getElementsByClassName(a.curConfig[a.curConfigIndex].progressClass)[0].style.width=a.progress+"%":a.clearFadeTimeout()}catch(c){}-1<a.progress?a.runOut(b):(a.clearFadeTimeout(),a.closeAlert())},100)},closeAlert:function(){try{for(var b=document.getElementsByClassName(a.curConfig[a.curConfigIndex].alertClass),c=0;c<b.length;c++)a.fadeOut(b[c])}catch(d){}},fadeOut:function(b){var c=1,d=setInterval(function(){.1>=c&&(clearInterval(d),b.style.display="none",b.remove(),a.curConfig.splice(a.curConfigIndex,
        1));b.style.opacity=c;b.style.filter="alpha(opacity="+100*c+")";c-=.1*c},20);a.fireCloseEvent();"function"==typeof a.curConfig[a.curConfigIndex].close&&eval(a.curConfig[a.curConfigIndex].close())},fireCloseEvent:function(){var a=new Event("tellmeClosed",{bubbles:!0,cancelable:!0});document.dispatchEvent(a)},fireOpenEvent:function(){var a=new Event("tellmeStart",{bubbles:!0,cancelable:!0});document.dispatchEvent(a)},clearFadeTimeout:function(){window.clearTimeout(a.fadeTimer);a.fadeTimer=null;a.progress=
        100},cloneObj:function(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor(),d;for(d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);return b}}};window.tellme=a})();